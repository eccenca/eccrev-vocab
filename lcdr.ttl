@prefix : <http://ns.lucid-project.org/revision/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix vann: <http://purl.org/vocab/vann/> .

: a owl:Ontology ;
  dct:title "LCDR: The LUCID vocabulary for describing RDF changes and revisions"@en ;
  dct:rights "Copyright Â© 2014 eccenca GmbH" ;
  dct:issued "2014-12-15"^^xsd:date ;
  dct:modified "2014-12-16"^^xsd:date ;
  dct:publisher <https://ns.eccenca.com/GmbH> ;
  <http://creativecommons.org/ns#license> <http://creativecommons.org/licenses/by/3.0/> ;
  dct:creator <https://ns.eccenca.com/People/RubenNavarroPiris>, <https://ns.eccenca.com/People/SebastianTramp> ;
  owl:versionInfo "1.0" ;
  vann:preferredNamespacePrefix "lcdr" ;
  vann:preferredNamespaceUri "http://ns.lucid-project.org/revision/" ;
  owl:imports <http://www.w3.org/ns/prov> , <http://www.w3.org/ns/prov-o-inverses> ;
  dct:description """LUCID Revision vocabulary & data model
Defines the Commit & Revision classes together with their expected properties.
The expressiveness of the language is OWL DL"""@en ;
  rdfs:label "LUCID Revision Vocabulary" ;
  .

:Commit a owl:Class ;
  rdfs:isDefinedBy : ;
  dct:issued "2014-12-15"^^xsd:date ;
  dct:modified "2014-12-16"^^xsd:date ;
  rdfs:comment "Represents a modification of the datastore. A commit consists typically on a collection of :Revision (connected with a :hasRevision relationship"@en ;
  rdfs:subClassOf prov:Activity, prov:InstantaneousEvent ;
  owl:disjointWith :Revision ;
  owl:equivalentClass 
    [ a owl:Restriction ;
      owl:onProperty :previousCommit ;
      owl:maxCardinality "2"^^xsd:nonNegativeInteger
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :commitMessage ;
      owl:maxCardinality "1"^^xsd:nonNegativeInteger
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasRevision ;
      owl:minCardinality "1"^^xsd:nonNegativeInteger
    ] ;
    rdfs:label "Commit" ;
    .

:Revision a owl:Class ;
  rdfs:isDefinedBy : ;
  dct:issued "2014-12-15"^^xsd:date ;
  dct:modified "2014-12-16"^^xsd:date ;
  rdfs:comment "Represents a modification on a specific named graph"@en ;
  owl:disjointWith :Commit ;
  owl:equivalentClass 
   [  owl:unionOf (
        [ a owl:Restriction ;
          owl:onProperty :deltaDelete ;
          owl:cardinality "1"^^xsd:nonNegativeInteger
        ]
        [ a owl:Restriction ;
          owl:onProperty :deltaInsert ;
          owl:cardinality "1"^^xsd:nonNegativeInteger
        ]
      )
   ] ;
  rdfs:subClassOf prov:Entity ,
    [ a owl:Restriction ;
      owl:onProperty prov:atTime ;
      owl:cardinality "1"^^xsd:nonNegativeInteger
    ] ,
    [ a owl:Restriction ;
      owl:onProperty prov:wasAssociatedWith ;
      owl:cardinality "1"^^xsd:nonNegativeInteger
    ] ,
    [ a owl:Restriction ;
      owl:onProperty prov:wasRevisionOf ;
      owl:cardinality "1"^^xsd:nonNegativeInteger
    ] ;
    rdfs:label "Revision" ;
    .

:commitMessage a owl:DatatypeProperty ;
  rdfs:isDefinedBy : ;
  dct:issued "2014-12-15"^^xsd:date ;
  dct:modified "2014-12-16"^^xsd:date ;
  rdfs:comment "A message describing the commit"@en ;
  rdfs:subPropertyOf dct:title ;
  rdfs:domain :Commit ;
  rdfs:range xsd:string ;
  rdfs:label "commit message" ;
  .

:hasRevision a owl:InverseFunctionalProperty ;
  rdfs:isDefinedBy : ;
  dct:issued "2014-12-16"^^xsd:date ;
  dct:modified "2014-12-16"^^xsd:date ;
  rdfs:comment "A named graph revision belonging to the commit"@en ;
  rdfs:subPropertyOf prov:generated ;
  rdfs:domain :Commit ;
  rdfs:range :Revision ;
  rdfs:label "has revision" ;
  .

:previousCommit a owl:ObjectProperty ;
  rdfs:isDefinedBy : ;
  dct:issued "2014-12-15"^^xsd:date ;
  dct:modified "2014-12-16"^^xsd:date ;
  rdfs:comment "Connects to the previous commit (or pair of commits in the case of a merge commit)"@en ;
  rdfs:subPropertyOf prov:wasDerivedFrom ;
  rdfs:domain :Commit ;
  rdfs:range :Commit ;
  rdfs:label "previous commit" ;
  .

:deltaInsert a owl:ObjectProperty ;
  rdfs:isDefinedBy : ;
  dct:issued "2014-12-15"^^xsd:date ;
  dct:modified "2014-12-16"^^xsd:date ;
  rdfs:comment "The IRI of the named graph containing the inserted triples of a revision (compared to its previous revision)"@en ;
  rdfs:domain :Revision ;
  rdfs:label "insert delta" ;
  .

:deltaDelete a owl:ObjectProperty ;
  rdfs:isDefinedBy : ;
  dct:issued "2014-12-15"^^xsd:date ;
  dct:modified "2014-12-16"^^xsd:date ;
  rdfs:comment "The IRI of the named graph containing the deleted triples of a revision (compared to its previous revision)"@en ;
  rdfs:domain :Revision ;
  rdfs:label "delete delta" ;
  .
  